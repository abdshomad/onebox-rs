window.currentDiagram = {
    nodes: [
        // Outer container
        {
            id: 'udp-datagram',
            shape: 'rect',
            x: 50,
            y: 50,
            width: 700,
            height: 600,
            label: 'UDP Datagram',
            attrs: {
                body: { fill: '#f0f0f0', stroke: '#ccc' },
                label: { refY: 5, textAnchor: 'center' },
            }
        },
        // IP Header
        {
            id: 'ip-header',
            shape: 'rect',
            x: 100,
            y: 100,
            width: 600,
            height: 120,
            parent: 'udp-datagram',
            label: 'IP Header',
            attrs: {
                body: { fill: '#e6f7ff', stroke: '#91d5ff' },
                label: { refY: 5, textAnchor: 'center' },
            }
        },
        {
            id: 'source-ip',
            shape: 'rect',
            x: 150,
            y: 150,
            width: 200,
            height: 50,
            parent: 'ip-header',
            label: 'Source IP (16)',
        },
        {
            id: 'dest-ip',
            shape: 'rect',
            x: 450,
            y: 150,
            width: 200,
            height: 50,
            parent: 'ip-header',
            label: 'Destination IP (16)',
        },
        // UDP Header
        {
            id: 'udp-header',
            shape: 'rect',
            x: 100,
            y: 240,
            width: 600,
            height: 120,
            parent: 'udp-datagram',
            label: 'UDP Header',
            attrs: {
                body: { fill: '#e6fffb', stroke: '#87e8de' },
                label: { refY: 5, textAnchor: 'center' },
            }
        },
        {
            id: 'source-port',
            shape: 'rect',
            x: 150,
            y: 290,
            width: 200,
            height: 50,
            parent: 'udp-header',
            label: 'Source Port (8)',
        },
        {
            id: 'dest-port',
            shape: 'rect',
            x: 450,
            y: 290,
            width: 200,
            height: 50,
            parent: 'udp-header',
            label: 'Destination Port (8)',
        },
        // onebox Packet Header
        {
            id: 'onebox-header',
            shape: 'rect',
            x: 100,
            y: 380,
            width: 600,
            height: 120,
            parent: 'udp-datagram',
            label: 'onebox Packet Header',
            attrs: {
                body: { fill: '#fffbe6', stroke: '#ffe58f' },
                label: { refY: 5, textAnchor: 'center' },
            }
        },
        {
            id: 'packet-type',
            shape: 'rect',
            x: 150,
            y: 430,
            width: 150,
            height: 50,
            parent: 'onebox-header',
            label: 'PacketType (4)',
        },
        {
            id: 'client-id',
            shape: 'rect',
            x: 325,
            y: 430,
            width: 150,
            height: 50,
            parent: 'onebox-header',
            label: 'ClientId (12)',
        },
        {
            id: 'seq-num',
            shape: 'rect',
            x: 500,
            y: 430,
            width: 150,
            height: 50,
            parent: 'onebox-header',
            label: 'SequenceNumber (16)',
        },
        // Encrypted Payload
        {
            id: 'payload',
            shape: 'rect',
            x: 100,
            y: 520,
            width: 600,
            height: 120,
            parent: 'udp-datagram',
            label: 'Encrypted Payload',
            attrs: {
                body: { fill: '#f9f0ff', stroke: '#d3adf7' },
                label: { refY: 5, textAnchor: 'center' },
            }
        },
        {
            id: 'orig-packet',
            shape: 'rect',
            x: 150,
            y: 570,
            width: 200,
            height: 50,
            parent: 'payload',
            label: 'Original IP Packet (...)',
        },
        {
            id: 'auth-tag',
            shape: 'rect',
            x: 450,
            y: 570,
            width: 200,
            height: 50,
            parent: 'payload',
            label: 'Authentication Tag (32)',
        },
    ],
    edges: [],
};
