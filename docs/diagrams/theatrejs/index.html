<!DOCTYPE html>
<html>
<head>
    <title>onebox-rs Architecture Animation (Theatre.js)</title>
    <style>
        body { font-family: sans-serif; text-align: center; }
        svg { border: 1px solid #eee; }
        .client-box { fill: #f9f; }
        .server-box { fill: #ccf; }
        .text { font-size: 14px; text-anchor: middle; }
        .line { stroke: #333; stroke-width: 2; }
    </style>
</head>
<body>
    <h1>onebox-rs Architecture (Theatre.js)</h1>
    <svg id="architecture-svg" width="800" height="500"></svg>
    <script type="module">
        import {getProject, types} from 'https://cdn.jsdelivr.net/npm/@theatre/core@0.7.0/dist/core.mjs';

        const project = getProject('onebox-rs Architecture');
        const sheet = project.sheet('Animation');

        const svg = document.getElementById('architecture-svg');

        // This is a simplified example. A full implementation would create all SVG elements
        // and then create Theatre.js objects to animate their properties.

        const clientObj = sheet.object('client', {
            opacity: types.number(0, {range: [0, 1]}),
        });

        const serverObj = sheet.object('server', {
            opacity: types.number(0, {range: [0, 1]}),
        });

        // ... and so on for all elements

        clientObj.onValuesChange((values) => {
            // update client SVG element's opacity
        });

        serverObj.onValuesChange((values) => {
            // update server SVG element's opacity
        });

        project.ready.then(() => {
            sheet.sequence.play({iterationCount: 1, range: [0, 5]});
        });
    </script>
</body>
</html>
